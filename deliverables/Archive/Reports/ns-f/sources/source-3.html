


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=windows-1252"> 
  <title>Coverage Report > GuiView</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">codex.lb04.View.Gui</a>
</div>

<h1>Coverage Summary for Class: GuiView (codex.lb04.View.Gui)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Branch, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">GuiView</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/33)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/32)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/567)
  </span>
</td>
</tr>
  <tr>
    <td class="name">GuiView$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/34)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/32)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/568)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package codex.lb04.View.Gui;
&nbsp;
&nbsp;import codex.lb04.Message.ChatMessage;
&nbsp;import codex.lb04.Message.DrawMessage.DrawBoardMessage;
&nbsp;import codex.lb04.Message.GameMessage.CreateGameMessage;
&nbsp;import codex.lb04.Message.GameMessage.EndTurnMessage;
&nbsp;import codex.lb04.Message.LoginMessage;
&nbsp;import codex.lb04.Model.Enumerations.Color;
&nbsp;import codex.lb04.Network.client.ClientSocket;
&nbsp;import codex.lb04.Utils.ConnectionUtil;
&nbsp;import codex.lb04.View.View;
&nbsp;import javafx.animation.PauseTransition;
&nbsp;import javafx.application.Platform;
&nbsp;import javafx.scene.Group;
&nbsp;import javafx.scene.Scene;
&nbsp;import javafx.scene.control.Button;
&nbsp;import javafx.scene.control.Label;
&nbsp;import javafx.scene.control.TextArea;
&nbsp;import javafx.scene.control.TextField;
&nbsp;import javafx.scene.image.Image;
&nbsp;import javafx.scene.image.ImageView;
&nbsp;import javafx.scene.layout.Background;
&nbsp;import javafx.scene.layout.StackPane;
&nbsp;import javafx.scene.shape.Rectangle;
&nbsp;import javafx.scene.text.Font;
&nbsp;import javafx.scene.text.Text;
&nbsp;import javafx.scene.transform.Translate;
&nbsp;import javafx.stage.Stage;
&nbsp;import javafx.util.Duration;
&nbsp;
&nbsp;import java.io.FileNotFoundException;
&nbsp;import java.io.IOException;
&nbsp;import java.io.InputStream;
&nbsp;import java.util.ArrayList;
&nbsp;
&nbsp;/**
&nbsp; * This class represents the view of the game in GUI mode
&nbsp; */
<b class="nc">&nbsp;public class GuiView extends View {</b>
<b class="nc">&nbsp;    double centerX = 1000 / 2.0;</b>
<b class="nc">&nbsp;    double centerY = 600 / 2.0;</b>
<b class="nc">&nbsp;    double cardWidth = 124;</b>
<b class="nc">&nbsp;    double cardHeight = 82.5;</b>
<b class="nc">&nbsp;    double resourceWidth = 50;</b>
<b class="nc">&nbsp;    double resourceHeight = 50;</b>
<b class="nc">&nbsp;    double stageWidth = 1000;</b>
<b class="nc">&nbsp;    double stageHeight = 600;</b>
&nbsp;
&nbsp;    private final Stage stageReference;
&nbsp;    private ClientSocket clientSocket;
&nbsp;    private final Label lobbyLabel;
&nbsp;    private TextArea chatText;
&nbsp;    private final Label winnerLabel;
&nbsp;    GuiController controller;
&nbsp;
&nbsp;    Group movableRootReference;
&nbsp;    Group staticGroupReference;
&nbsp;    Group chatGroupReference;
&nbsp;
&nbsp;    Rectangle initCardBackground;
&nbsp;    Rectangle secretObjectiveBackground;
&nbsp;    Text alert;
&nbsp;    Text turnText;
&nbsp;
&nbsp;    /**
&nbsp;     * Constructor for the GUI view
&nbsp;     * @param stage the javafx stage
&nbsp;     */
<b class="nc">&nbsp;    public GuiView(Stage stage) {</b>
<b class="nc">&nbsp;        stage.setHeight(600);</b>
<b class="nc">&nbsp;        stage.setWidth(1000);</b>
<b class="nc">&nbsp;        stage.setResizable(false);//leave it to false because boardScene will be bugged when resized</b>
<b class="nc">&nbsp;        stage.minHeightProperty().set(600);</b>
<b class="nc">&nbsp;        stage.minWidthProperty().set(1000);</b>
<b class="nc">&nbsp;        this.alert = new Text(&quot;&quot;);</b>
<b class="nc">&nbsp;        this.lobbyLabel = new Label();</b>
<b class="nc">&nbsp;        this.chatText = new TextArea();</b>
<b class="nc">&nbsp;        this.winnerLabel = new Label();</b>
<b class="nc">&nbsp;        this.controller = new GuiController(this);</b>
<b class="nc">&nbsp;        stageReference = stage;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * method to instantiate the hello scene
&nbsp;     */
&nbsp;    @Override
&nbsp;    public void drawHelloScene() {
&nbsp;        //creating elements
<b class="nc">&nbsp;        StackPane root = new StackPane();</b>
<b class="nc">&nbsp;        InputStream is = getClass().getResourceAsStream(&quot;/graphics/CODEX_wallpaper_minimal.png&quot;);</b>
&nbsp;
<b class="nc">&nbsp;        ImageView imageView = createImageView(root, is);</b>
&nbsp;
<b class="nc">&nbsp;        Button createGameButton = new Button(&quot;Create Game&quot;);</b>
<b class="nc">&nbsp;        createGameButton.setOnAction(actionEvent -&gt; drawCreateGameScene());</b>
<b class="nc">&nbsp;        Button joinGameButton = new Button(&quot;Join Game&quot;);</b>
<b class="nc">&nbsp;        joinGameButton.setOnAction(actionEvent -&gt; drawLoginScene());</b>
&nbsp;
<b class="nc">&nbsp;        Label creditsLabel = new Label(&quot;by Pitesse, Barde, AlexIlLeone, Brio&quot;);</b>
<b class="nc">&nbsp;        creditsLabel.getStyleClass().remove(&quot;label&quot;);</b>
<b class="nc">&nbsp;        creditsLabel.getStyleClass().add(&quot;credits-text&quot;);</b>
&nbsp;
&nbsp;        //append elements to the root
<b class="nc">&nbsp;        stageReference.setTitle(&quot;Codex! - Welcome&quot;);</b>
<b class="nc">&nbsp;        root.getChildren().add(imageView);</b>
<b class="nc">&nbsp;        root.getChildren().add(creditsLabel);</b>
&nbsp;
<b class="nc">&nbsp;        creditsLabel.setTranslateY(200);</b>
<b class="nc">&nbsp;        joinGameButton.setTranslateY(50);</b>
<b class="nc">&nbsp;        joinGameButton.setTranslateY(120);</b>
<b class="nc">&nbsp;        joinGameButton.setTranslateX(50);</b>
<b class="nc">&nbsp;        createGameButton.setTranslateY(120);</b>
<b class="nc">&nbsp;        createGameButton.setTranslateX(-50);</b>
<b class="nc">&nbsp;        root.getChildren().add(createGameButton);</b>
<b class="nc">&nbsp;        root.getChildren().add(joinGameButton);</b>
<b class="nc">&nbsp;        Scene scene = new Scene(root, 1520, 850);</b>
<b class="nc">&nbsp;        scene.getStylesheets().add(&quot;/codexTheme.css&quot;);</b>
<b class="nc">&nbsp;        stageReference.setScene(scene);</b>
<b class="nc">&nbsp;        stageReference.show();</b>
&nbsp;
&nbsp;    }
&nbsp;
&nbsp;    private ImageView createImageView(StackPane root, InputStream is) {
<b class="nc">&nbsp;        assert is != null;</b>
<b class="nc">&nbsp;        Image image = new Image(is);</b>
&nbsp;
<b class="nc">&nbsp;        ImageView imageView = new ImageView(image);</b>
<b class="nc">&nbsp;        imageView.setImage(image);</b>
<b class="nc">&nbsp;        imageView.setPreserveRatio(true);</b>
&nbsp;
<b class="nc">&nbsp;        imageView.setFitWidth(root.computeAreaInScreen());</b>
<b class="nc">&nbsp;        imageView.setFitHeight(root.computeAreaInScreen());</b>
<b class="nc">&nbsp;        return imageView;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * method to instantiate the login scene
&nbsp;     */
&nbsp;    @Override
&nbsp;    public void drawLoginScene() {
&nbsp;        //creating elements
<b class="nc">&nbsp;        StackPane root = new StackPane();</b>
&nbsp;
<b class="nc">&nbsp;        InputStream is = getClass().getResourceAsStream(&quot;/graphics/CODEX_wallpaper_pattern.png&quot;);</b>
<b class="nc">&nbsp;        ImageView imageView = createImageView(root, is);</b>
&nbsp;
<b class="nc">&nbsp;        TextField usernameField = new TextField();</b>
<b class="nc">&nbsp;        usernameField.setPromptText(&quot;username&quot;);</b>
<b class="nc">&nbsp;        usernameField.setMaxWidth(200);</b>
&nbsp;
<b class="nc">&nbsp;        TextField serverAddressField = new TextField();</b>
<b class="nc">&nbsp;        serverAddressField.setPromptText(&quot;server address&quot;);</b>
<b class="nc">&nbsp;        serverAddressField.setMaxWidth(200);</b>
&nbsp;
<b class="nc">&nbsp;        TextField serverPortField = new TextField();</b>
<b class="nc">&nbsp;        serverPortField.setPromptText(&quot;server port&quot;);</b>
<b class="nc">&nbsp;        serverPortField.setMaxWidth(200);</b>
&nbsp;
<b class="nc">&nbsp;        Button loginButton = new Button(&quot;Login&quot;);</b>
<b class="nc">&nbsp;        Button backButton = new Button(&quot;Back&quot;);</b>
&nbsp;
<b class="nc">&nbsp;        Label titleLabel = new Label(&quot;insert your username, server address and server port&quot;);</b>
<b class="nc">&nbsp;        Label errorLabel = new Label();</b>
&nbsp;
&nbsp;        //adding listeners
<b class="nc">&nbsp;        loginButton.setOnAction(actionEvent -&gt; {</b>
<b class="nc">&nbsp;            String usr = usernameField.getText();</b>
<b class="nc">&nbsp;            String addr = serverAddressField.getText();</b>
<b class="nc">&nbsp;            int port = ConnectionUtil.defaultPort;</b>
&nbsp;            try {
<b class="nc">&nbsp;                port = Integer.parseInt(serverPortField.getText());</b>
<b class="nc">&nbsp;            } catch (NumberFormatException e) {</b>
<b class="nc">&nbsp;                errorLabel.setText(&quot;Using default port&quot;);</b>
&nbsp;            }
<b class="nc">&nbsp;            if (ConnectionUtil.checkValid(usr, addr, port)) {</b>
&nbsp;                try {
<b class="nc">&nbsp;                    clientSocket = new ClientSocket(usr, addr, port,this.controller);</b>
<b class="nc">&nbsp;                    controller.setClientSocket(clientSocket);</b>
<b class="nc">&nbsp;                } catch (IOException e) {</b>
<b class="nc">&nbsp;                    errorLabel.setText(&quot;Server not available&quot;);</b>
&nbsp;                    return;
&nbsp;                }
<b class="nc">&nbsp;                LoginMessage loginMessage = new LoginMessage(usr);</b>
<b class="nc">&nbsp;                clientSocket.sendMessage((loginMessage));</b>
<b class="nc">&nbsp;                loginButton.setDisable(true);</b>
&nbsp;            } else {
<b class="nc">&nbsp;                errorLabel.setText(&quot;Enter valid username, address and port&quot;);</b>
&nbsp;            }
&nbsp;        });
&nbsp;
<b class="nc">&nbsp;        backButton.setOnAction(actionEvent -&gt; drawHelloScene());</b>
&nbsp;
&nbsp;        //append elements to the root
<b class="nc">&nbsp;        stageReference.setTitle(&quot;Codex! - Login&quot;);</b>
<b class="nc">&nbsp;        root.getChildren().add(imageView);</b>
<b class="nc">&nbsp;        root.getChildren().add(titleLabel);</b>
<b class="nc">&nbsp;        titleLabel.setTranslateY(-200);</b>
<b class="nc">&nbsp;        usernameField.setTranslateY(-100);</b>
<b class="nc">&nbsp;        serverAddressField.setTranslateY(-50);</b>
<b class="nc">&nbsp;        serverPortField.setTranslateY(0);</b>
<b class="nc">&nbsp;        loginButton.setTranslateY(50);</b>
<b class="nc">&nbsp;        backButton.setTranslateY(50);</b>
<b class="nc">&nbsp;        errorLabel.setTranslateY(100);</b>
<b class="nc">&nbsp;        loginButton.setTranslateX(50);</b>
<b class="nc">&nbsp;        backButton.setTranslateX(-50);</b>
&nbsp;
<b class="nc">&nbsp;        root.getChildren().add(usernameField);</b>
<b class="nc">&nbsp;        root.getChildren().add(serverAddressField);</b>
<b class="nc">&nbsp;        root.getChildren().add(serverPortField);</b>
<b class="nc">&nbsp;        root.getChildren().add(loginButton);</b>
<b class="nc">&nbsp;        root.getChildren().add(backButton);</b>
<b class="nc">&nbsp;        root.getChildren().add(errorLabel);</b>
&nbsp;
<b class="nc">&nbsp;        Scene scene = new Scene(root, 1520, 850);</b>
<b class="nc">&nbsp;        scene.getStylesheets().add(&quot;/codexTheme.css&quot;);</b>
<b class="nc">&nbsp;        stageReference.setScene(scene);</b>
<b class="nc">&nbsp;        stageReference.show();</b>
&nbsp;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * method to instantiate the lobby scene
&nbsp;     */
&nbsp;    @Override
&nbsp;    public void drawLobbyScene() {
<b class="nc">&nbsp;        StackPane root = new StackPane();</b>
&nbsp;
<b class="nc">&nbsp;        InputStream is = getClass().getResourceAsStream(&quot;/graphics/CODEX_wallpaper_pattern.png&quot;);</b>
<b class="nc">&nbsp;        ImageView imageView = createImageView(root, is);</b>
&nbsp;
<b class="nc">&nbsp;        Label titleLabel = new Label(&quot;Players in the lobby&quot;);</b>
&nbsp;
<b class="nc">&nbsp;        Button playButton = new Button(&quot;Play&quot;);</b>
<b class="nc">&nbsp;        Button backButton = new Button(&quot;Back&quot;);</b>
&nbsp;
<b class="nc">&nbsp;        titleLabel.setTranslateY(-200);</b>
<b class="nc">&nbsp;        lobbyLabel.setTranslateY(-100);</b>
&nbsp;
&nbsp;
<b class="nc">&nbsp;        playButton.setTranslateY(50);</b>
<b class="nc">&nbsp;        playButton.setTranslateX(50);</b>
<b class="nc">&nbsp;        backButton.setTranslateY(50);</b>
<b class="nc">&nbsp;        backButton.setTranslateX(-50);</b>
&nbsp;
<b class="nc">&nbsp;        backButton.setOnAction(actionEvent -&gt; {</b>
<b class="nc">&nbsp;            clientSocket.disconnect();</b>
<b class="nc">&nbsp;            drawHelloScene();</b>
&nbsp;        });
&nbsp;
<b class="nc">&nbsp;        playButton.setOnMouseClicked(actionEvent -&gt; clientSocket.sendMessage(new DrawBoardMessage(clientSocket.getUsername())));</b>
&nbsp;
<b class="nc">&nbsp;        stageReference.setTitle(&quot;Codex! - Lobby&quot;);</b>
<b class="nc">&nbsp;        root.getChildren().add(imageView);</b>
<b class="nc">&nbsp;        root.getChildren().add(titleLabel);</b>
<b class="nc">&nbsp;        root.getChildren().add(lobbyLabel);</b>
<b class="nc">&nbsp;        root.getChildren().add(playButton);</b>
<b class="nc">&nbsp;        root.getChildren().add(backButton);</b>
&nbsp;
<b class="nc">&nbsp;        Scene scene = new Scene(root, stageWidth, stageHeight);</b>
<b class="nc">&nbsp;        scene.getStylesheets().add(&quot;/codexTheme.css&quot;);</b>
<b class="nc">&nbsp;        stageReference.setScene(scene);</b>
<b class="nc">&nbsp;        stageReference.show();</b>
&nbsp;
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * method to update the lobby scene
&nbsp;     * @param names the updated name list of the players in the lobby
&nbsp;     */
&nbsp;    @Override
&nbsp;    public void updateLobby(ArrayList&lt;String&gt; names) {
<b class="nc">&nbsp;        StringBuilder sb = new StringBuilder();</b>
<b class="nc">&nbsp;        for (String name : names) {</b>
<b class="nc">&nbsp;            sb.append(name).append(&quot;\n&quot;);</b>
&nbsp;        }
<b class="nc">&nbsp;        lobbyLabel.setText(sb.toString());</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * method to instantiate the game creation scene
&nbsp;     */
&nbsp;    @Override
&nbsp;    public void drawCreateGameScene() {
&nbsp;        //creating elements
<b class="nc">&nbsp;        StackPane root = new StackPane();</b>
&nbsp;
<b class="nc">&nbsp;        InputStream is = getClass().getResourceAsStream(&quot;/graphics/CODEX_wallpaper_pattern.png&quot;);</b>
<b class="nc">&nbsp;        ImageView imageView = createImageView(root, is);</b>
&nbsp;
<b class="nc">&nbsp;        Label localHostLabel = new Label(&quot;Insert username, number of players\n&quot; +</b>
&nbsp;                                            &quot;and server port to setup a game&quot;);
&nbsp;
<b class="nc">&nbsp;        TextField numPlayersChoice = new TextField();</b>
<b class="nc">&nbsp;        numPlayersChoice.setPromptText(&quot;number of players&quot;);</b>
<b class="nc">&nbsp;        numPlayersChoice.setMaxWidth(200);</b>
&nbsp;
<b class="nc">&nbsp;        TextField usernameField = new TextField();</b>
<b class="nc">&nbsp;        usernameField.setPromptText(&quot;choose a username&quot;);</b>
<b class="nc">&nbsp;        usernameField.setMaxWidth(200);</b>
&nbsp;
<b class="nc">&nbsp;        TextField portField = new TextField();</b>
<b class="nc">&nbsp;        portField.setPromptText(&quot;server port (refer to serverApp):&quot;);</b>
<b class="nc">&nbsp;        portField.setMaxWidth(200);</b>
&nbsp;
<b class="nc">&nbsp;        Button confirmButton = new Button(&quot;Confirm&quot;);</b>
<b class="nc">&nbsp;        Button backButton = new Button(&quot;Back&quot;);</b>
<b class="nc">&nbsp;        Label errorLabel = new Label();</b>
&nbsp;
&nbsp;
&nbsp;        //adding listeners
<b class="nc">&nbsp;        confirmButton.setOnAction(actionEvent -&gt; {</b>
&nbsp;            int num;
&nbsp;            int port;
&nbsp;            try {
<b class="nc">&nbsp;                num = Integer.parseInt(numPlayersChoice.getText());</b>
<b class="nc">&nbsp;            } catch (NumberFormatException e) {</b>
<b class="nc">&nbsp;                errorLabel.setText(&quot;Enter a valid number of players&quot;);</b>
&nbsp;                return;
&nbsp;            }
&nbsp;            try {
<b class="nc">&nbsp;                port = Integer.parseInt(portField.getText());</b>
<b class="nc">&nbsp;            } catch (NumberFormatException e) {</b>
<b class="nc">&nbsp;                errorLabel.setText(&quot;Enter a valid number as port&quot;);</b>
&nbsp;                return;
&nbsp;            }
<b class="nc">&nbsp;            String usr = usernameField.getText();</b>
<b class="nc">&nbsp;            confirmButton.setDisable(true);</b>
<b class="nc">&nbsp;            if (ConnectionUtil.checkValid(num, usr)) {</b>
<b class="nc">&nbsp;                if(ConnectionUtil.isValidPort(port)){</b>
&nbsp;                    try {
<b class="nc">&nbsp;                        clientSocket = new ClientSocket(usr, ConnectionUtil.getLocalhost(), port ,this.controller);</b>
<b class="nc">&nbsp;                        controller.setClientSocket(clientSocket);</b>
<b class="nc">&nbsp;                    } catch (IOException e) {</b>
<b class="nc">&nbsp;                        errorLabel.setText(&quot;Server not available&quot;);</b>
<b class="nc">&nbsp;                        confirmButton.setDisable(false);</b>
&nbsp;                        return;
&nbsp;                    }
&nbsp;                }
&nbsp;                else {
&nbsp;                    try {
<b class="nc">&nbsp;                    clientSocket = new ClientSocket(usr, ConnectionUtil.getLocalhost(), ConnectionUtil.defaultPort ,this.controller);</b>
<b class="nc">&nbsp;                    controller.setClientSocket(clientSocket);</b>
&nbsp;                    }
<b class="nc">&nbsp;                    catch (IOException e) {</b>
<b class="nc">&nbsp;                        errorLabel.setText(&quot;Server not available&quot;);</b>
<b class="nc">&nbsp;                        confirmButton.setDisable(false);</b>
&nbsp;                        return;
&nbsp;                    }
&nbsp;                }
<b class="nc">&nbsp;                clientSocket.sendMessage(new CreateGameMessage(usr, num));</b>
&nbsp;            }else {
<b class="nc">&nbsp;                errorLabel.setText(&quot;Invalid input&quot;);</b>
<b class="nc">&nbsp;                confirmButton.setDisable(false);</b>
&nbsp;            }
&nbsp;        });
<b class="nc">&nbsp;        backButton.setOnAction(actionEvent -&gt; drawHelloScene());</b>
&nbsp;
&nbsp;        //append elements to the root
<b class="nc">&nbsp;        stageReference.setTitle(&quot;Codex! - Create Game&quot;);</b>
<b class="nc">&nbsp;        root.getChildren().add(imageView);</b>
<b class="nc">&nbsp;        root.getChildren().add(localHostLabel);</b>
<b class="nc">&nbsp;        localHostLabel.setTranslateY(-200);</b>
<b class="nc">&nbsp;        numPlayersChoice.setTranslateY(-50);</b>
<b class="nc">&nbsp;        portField.setTranslateY(0);</b>
<b class="nc">&nbsp;        usernameField.setTranslateY(-100);</b>
<b class="nc">&nbsp;        confirmButton.setTranslateY(50);</b>
<b class="nc">&nbsp;        backButton.setTranslateY(50);</b>
<b class="nc">&nbsp;        errorLabel.setTranslateY(100);</b>
<b class="nc">&nbsp;        confirmButton.setTranslateX(50);</b>
<b class="nc">&nbsp;        backButton.setTranslateX(-50);</b>
<b class="nc">&nbsp;        root.getChildren().add(usernameField);</b>
<b class="nc">&nbsp;        root.getChildren().add(numPlayersChoice);</b>
<b class="nc">&nbsp;        root.getChildren().add(portField);</b>
<b class="nc">&nbsp;        root.getChildren().add(confirmButton);</b>
<b class="nc">&nbsp;        root.getChildren().add(errorLabel);</b>
<b class="nc">&nbsp;        root.getChildren().add(backButton);</b>
&nbsp;
<b class="nc">&nbsp;        Scene scene = new Scene(root, 1520, 850);</b>
<b class="nc">&nbsp;        scene.getStylesheets().add(&quot;/codexTheme.css&quot;);</b>
<b class="nc">&nbsp;        stageReference.setScene(scene);stageReference.show();</b>
&nbsp;    }
&nbsp;
&nbsp;    //TODO: refactor this method, it&#39;s too long and has repeated code
&nbsp;    /**
&nbsp;     * method to instantiate the board scene
&nbsp;     */
&nbsp;    @Override
&nbsp;    public void drawBoardScene() {
<b class="nc">&nbsp;        controller.reset();</b>
&nbsp;        // Create a group for static elements
<b class="nc">&nbsp;        Group staticRoot = new Group();</b>
&nbsp;        // Add static elements to staticRoot here
&nbsp;
&nbsp;        // Create a group for movable elements
<b class="nc">&nbsp;        Group movableRoot = new Group();</b>
<b class="nc">&nbsp;        movableRoot.setTranslateY(260);</b>
<b class="nc">&nbsp;        movableRoot.setTranslateX(415);</b>
&nbsp;
&nbsp;        // Create a group to hold both the static and movable groups
<b class="nc">&nbsp;        Group root = new Group();</b>
<b class="nc">&nbsp;        Rectangle background = new Rectangle();</b>
<b class="nc">&nbsp;        background.setHeight(4000);</b>
<b class="nc">&nbsp;        background.setWidth(4000);</b>
<b class="nc">&nbsp;        background.setFill(javafx.scene.paint.Color.BLACK);</b>
<b class="nc">&nbsp;        root.getChildren().add(background);</b>
&nbsp;
&nbsp;
<b class="nc">&nbsp;        root.getChildren().addAll(movableRoot, staticRoot);</b>
&nbsp;
<b class="nc">&nbsp;        Text alert = new Text(&quot;&quot;);</b>
<b class="nc">&nbsp;        alert.setFill(javafx.scene.paint.Color.WHITE);</b>
<b class="nc">&nbsp;        alert.setWrappingWidth(700);</b>
<b class="nc">&nbsp;        setAlert(alert);</b>
<b class="nc">&nbsp;        displayTimedAlertText(&quot;&quot;&quot;</b>
&nbsp;                        GAME CONTROLS:
&nbsp;                        To select a card LEFT click on it
&nbsp;                        To flip a card select it and click the flip card button
&nbsp;                        To pick the initial card and secret objective RIGHT click on it
&nbsp;                        To draw a card click on it
&nbsp;                        To pass the turn click on the end turn button
&nbsp;                        To place a card select it and click where you want to place it
&nbsp;                        To move the camera use WASD&quot;&quot;&quot;,
<b class="nc">&nbsp;                                    25);</b>
&nbsp;
<b class="nc">&nbsp;        Text yourTurn = new Text(&quot;&quot;);</b>
<b class="nc">&nbsp;        yourTurn.setFill(javafx.scene.paint.Color.WHITE);</b>
<b class="nc">&nbsp;        yourTurn.setWrappingWidth(200);</b>
<b class="nc">&nbsp;        yourTurn.setX(stageWidth / 2 + 130);</b>
<b class="nc">&nbsp;        yourTurn.setY(20);</b>
<b class="nc">&nbsp;        setYouTurnDisplay(yourTurn);</b>
&nbsp;
&nbsp;
<b class="nc">&nbsp;        root.getChildren().add(alert);</b>
<b class="nc">&nbsp;        root.getChildren().add(yourTurn);</b>
&nbsp;
<b class="nc">&nbsp;        setMovableRootReference(movableRoot);</b>
<b class="nc">&nbsp;        setStaticGroupReference(staticRoot);</b>
&nbsp;
&nbsp;
&nbsp;        //STATIC PART OF THE STAGE
&nbsp;
&nbsp;        // BOX THAT CONTAINS RESOURCE CARDS THAT CAN BE DRAWN
<b class="nc">&nbsp;        double rectangleWidthOfResourceCardPicker = 130;</b>
<b class="nc">&nbsp;        double rectangleHeightOfResourceCardPicker = 259.5;</b>
<b class="nc">&nbsp;        Rectangle ResourceCardsBox = new Rectangle(stageWidth - rectangleWidthOfResourceCardPicker, 0, rectangleWidthOfResourceCardPicker, rectangleHeightOfResourceCardPicker);</b>
<b class="nc">&nbsp;        ResourceCardsBox.setFill(Color.BLACK.getPaint());</b>
&nbsp;
&nbsp;        //Display of the resource cards that can be drawn
<b class="nc">&nbsp;        Rectangle ResourceCard1 = new Rectangle(stageWidth - cardWidth - 3, 3, cardWidth, cardHeight);</b>
&nbsp;        //ResourceCard1.setFill(Color.RED.getPaint());
<b class="nc">&nbsp;        ResourceCard1.setUserData(0);</b>
&nbsp;
<b class="nc">&nbsp;        Rectangle ResourceCard2 = new Rectangle(stageWidth - cardWidth - 3, 3 + cardHeight + 3, cardWidth, cardHeight);</b>
&nbsp;       // ResourceCard2.setFill(Color.RED.getPaint());
<b class="nc">&nbsp;        ResourceCard2.setUserData(1);</b>
&nbsp;
<b class="nc">&nbsp;        Rectangle ResourceCard3 = new Rectangle(stageWidth - cardWidth - 3, 3 + cardHeight + 3 + cardHeight + 3, cardWidth, cardHeight);</b>
&nbsp;        //ResourceCard3.setFill(Color.RED.getPaint());
<b class="nc">&nbsp;        ResourceCard3.setUserData(2);</b>
&nbsp;
<b class="nc">&nbsp;        controller.setUpDrawableResources(ResourceCard1, ResourceCard2, ResourceCard3);</b>
&nbsp;
&nbsp;
&nbsp;        // BOX THAT CONTAINS GOLD CARDS THAT CAN BE DRAWN
<b class="nc">&nbsp;        double rectangleWidthOfGoldCardPicker = 130;</b>
<b class="nc">&nbsp;        double rectangleHeightOfGoldCardPicker = 259.5;</b>
<b class="nc">&nbsp;        Rectangle GoldCardsBox = new Rectangle(stageWidth - rectangleWidthOfGoldCardPicker, 270, rectangleWidthOfGoldCardPicker, rectangleHeightOfGoldCardPicker);</b>
&nbsp;        //GoldCardsBox.setFill(Color.BLACK.getPaint());
&nbsp;
&nbsp;        //Display of the resource cards that can be drawn
<b class="nc">&nbsp;        Rectangle GoldCard1 = new Rectangle(stageWidth - cardWidth - 3, 270 + 3, cardWidth, cardHeight);</b>
&nbsp;        //GoldCard1.setFill(Color.RED.getPaint());
<b class="nc">&nbsp;        GoldCard1.setUserData(0);</b>
&nbsp;
&nbsp;
<b class="nc">&nbsp;        Rectangle GoldCard2 = new Rectangle(stageWidth - cardWidth - 3, 270 + 3 + cardHeight + 3, cardWidth, cardHeight);</b>
&nbsp;        //GoldCard2.setFill(Color.RED.getPaint());
<b class="nc">&nbsp;        GoldCard2.setUserData(1);</b>
&nbsp;
&nbsp;
<b class="nc">&nbsp;        Rectangle GoldCard3 = new Rectangle(stageWidth - cardWidth - 3, 270 + 3 + cardHeight + 3 + cardHeight + 3, cardWidth, cardHeight);</b>
&nbsp;        //GoldCard3.setFill(Color.RED.getPaint());
<b class="nc">&nbsp;        GoldCard3.setUserData(2);</b>
<b class="nc">&nbsp;        controller.setUpDrawableGold(GoldCard1, GoldCard2, GoldCard3);</b>
&nbsp;
&nbsp;        // HAND BOX
<b class="nc">&nbsp;        double rectangleWidthHand = 130;</b>
<b class="nc">&nbsp;        double rectangleHeightHand = 259.5;</b>
<b class="nc">&nbsp;        Rectangle HandBox = new Rectangle(0, 0, rectangleWidthHand, rectangleHeightHand);</b>
<b class="nc">&nbsp;        HandBox.setFill(Color.BLACK.getPaint());</b>
&nbsp;
&nbsp;        //cards in hand
<b class="nc">&nbsp;        Rectangle HandCard1 = new Rectangle(3, 3, cardWidth, cardHeight);</b>
&nbsp;        //HandCard1.setFill(Color.RED.getPaint());
&nbsp;
<b class="nc">&nbsp;        Rectangle HandCard2 = new Rectangle(3, 3 + cardHeight + 3, cardWidth, cardHeight);</b>
&nbsp;        //HandCard2.setFill(Color.RED.getPaint());
&nbsp;
<b class="nc">&nbsp;        Rectangle HandCard3 = new Rectangle(3, 3 + cardHeight + 3 + cardHeight + 3, cardWidth, cardHeight);</b>
&nbsp;        //HandCard3.setFill(Color.RED.getPaint());
&nbsp;
<b class="nc">&nbsp;        controller.setUpHandMap(HandCard1, HandCard2, HandCard3);</b>
&nbsp;
&nbsp;        // COMMON OBJECTIVES BOX
<b class="nc">&nbsp;        double rectangleWidthCommonObjectives = cardWidth * 2 + 3 * 3;</b>
<b class="nc">&nbsp;        double rectangleHeightCommonObjectives = cardHeight + 6;</b>
<b class="nc">&nbsp;        Rectangle CommonObjectivesBox = new Rectangle(0, stageHeight - rectangleHeightCommonObjectives, rectangleWidthCommonObjectives, rectangleHeightCommonObjectives);</b>
<b class="nc">&nbsp;        CommonObjectivesBox.setFill(Color.BLACK.getPaint());</b>
&nbsp;
&nbsp;        //common objectives
<b class="nc">&nbsp;        Rectangle CommonObjective1 = new Rectangle(3, stageHeight - cardHeight - 3, cardWidth, cardHeight);</b>
&nbsp;        //CommonObjective1.setFill(Color.RED.getPaint());
&nbsp;
<b class="nc">&nbsp;        Rectangle CommonObjective2 = new Rectangle(3 + cardWidth + 3, stageHeight - cardHeight - 3, cardWidth, cardHeight);</b>
&nbsp;        //CommonObjective2.setFill(Color.RED.getPaint());
&nbsp;
<b class="nc">&nbsp;        controller.setUpCommonObjectivesMap(CommonObjective1, CommonObjective2);</b>
&nbsp;
&nbsp;        // SECRET OBJECTIVE BOX
<b class="nc">&nbsp;        double rectangleWidthSecretObjective = cardWidth + 6;</b>
<b class="nc">&nbsp;        double rectangleHeightSecretObjective = cardHeight + 6;</b>
<b class="nc">&nbsp;        Rectangle SecretObjectiveBox = new Rectangle(0 + rectangleWidthCommonObjectives + 5, stageHeight - rectangleHeightSecretObjective, rectangleWidthSecretObjective, rectangleHeightSecretObjective);</b>
<b class="nc">&nbsp;        SecretObjectiveBox.setFill(Color.BLACK.getPaint());</b>
&nbsp;
&nbsp;
&nbsp;        //secret objective
<b class="nc">&nbsp;        Rectangle SecretObjective = new Rectangle(0 + rectangleWidthCommonObjectives + 5 + 3, stageHeight - cardHeight - 3, cardWidth, cardHeight);</b>
&nbsp;        //SecretObjective.setFill(Color.RED.getPaint());
<b class="nc">&nbsp;        controller.setSecretObjectiveMap(SecretObjective);</b>
&nbsp;
&nbsp;        //INITIAL CARD DISPLAY FOR FACE SELECTION
<b class="nc">&nbsp;        double rectangleWidthInitialCardDisplay = cardWidth + 6;</b>
<b class="nc">&nbsp;        double rectangleHeightInitialCardDisplay = cardHeight + 6;</b>
<b class="nc">&nbsp;        Rectangle InitialCardDisplayBox = new Rectangle(stageWidth / 2 - rectangleWidthInitialCardDisplay - 50, stageHeight / 2 - rectangleHeightInitialCardDisplay, rectangleWidthInitialCardDisplay, rectangleHeightInitialCardDisplay);</b>
<b class="nc">&nbsp;        InitialCardDisplayBox.setFill(Color.BLACK.getPaint());</b>
<b class="nc">&nbsp;        this.initCardBackground = InitialCardDisplayBox;</b>
&nbsp;
<b class="nc">&nbsp;        Rectangle InitialCardDisplay = new Rectangle(stageWidth / 2 - rectangleWidthInitialCardDisplay - 50 + 3, stageHeight / 2 - rectangleHeightInitialCardDisplay + 3, cardWidth, cardHeight);</b>
&nbsp;        //InitialCardDisplay.setFill(Color.RED.getPaint());
<b class="nc">&nbsp;        controller.setUpInitialCardDisplay(InitialCardDisplay);</b>
&nbsp;
&nbsp;        //SECRET OBJECTIVES DISPLAY FOR SELECTION
<b class="nc">&nbsp;        double rectangleWidthSecretObjectiveDisplay = cardWidth + 6;</b>
<b class="nc">&nbsp;        double rectangleHeightObjectiveCardsDisplay = 2 * cardHeight + 9;</b>
<b class="nc">&nbsp;        Rectangle secretObjectivesDisplayBox = new Rectangle(stageWidth / 2 + rectangleWidthSecretObjectiveDisplay - 60, stageHeight / 2 - rectangleHeightObjectiveCardsDisplay / 2 - rectangleHeightObjectiveCardsDisplay / 4, rectangleWidthSecretObjectiveDisplay, rectangleHeightObjectiveCardsDisplay);</b>
<b class="nc">&nbsp;        secretObjectivesDisplayBox.setFill(Color.BLACK.getPaint());</b>
<b class="nc">&nbsp;        this.secretObjectiveBackground = secretObjectivesDisplayBox;</b>
&nbsp;
<b class="nc">&nbsp;        Rectangle secretObjective1Display = new Rectangle(stageWidth / 2 + rectangleWidthSecretObjectiveDisplay - 60 + 3, stageHeight / 2 - rectangleHeightObjectiveCardsDisplay / 2 - rectangleHeightObjectiveCardsDisplay / 4 + 3, cardWidth, cardHeight);</b>
&nbsp;        //secretObjective1Display.setFill(Color.RED.getPaint());
<b class="nc">&nbsp;        secretObjective1Display.setUserData(0);</b>
&nbsp;
<b class="nc">&nbsp;        Rectangle secretObjective2Display = new Rectangle(stageWidth / 2 + rectangleWidthSecretObjectiveDisplay - 60 + 3, stageHeight / 2 - rectangleHeightObjectiveCardsDisplay / 2 - rectangleHeightObjectiveCardsDisplay / 4 + 3 + cardHeight + 3, cardWidth, cardHeight);</b>
&nbsp;        //secretObjective2Display.setFill(Color.RED.getPaint());
<b class="nc">&nbsp;        secretObjective2Display.setUserData(1);</b>
<b class="nc">&nbsp;        controller.setUpSecretObjectivesToChoose(secretObjective1Display, secretObjective2Display);</b>
&nbsp;
&nbsp;
&nbsp;        //Button to flip the card selected
<b class="nc">&nbsp;        Button flipButton = new Button(&quot;flip card&quot;);</b>
<b class="nc">&nbsp;        flipButton.setTextFill(javafx.scene.paint.Color.WHITE);</b>
<b class="nc">&nbsp;        flipButton.setLayoutX(10);</b>
<b class="nc">&nbsp;        flipButton.setLayoutY(265);</b>
<b class="nc">&nbsp;        flipButton.setMaxHeight(10);</b>
<b class="nc">&nbsp;        flipButton.setMaxWidth(75);</b>
<b class="nc">&nbsp;        flipButton.setBackground(Background.fill(javafx.scene.paint.Color.BLACK));</b>
<b class="nc">&nbsp;        flipButton.setOnMouseClicked(e -&gt; {</b>
&nbsp;            try {
<b class="nc">&nbsp;                controller.flipCard();</b>
<b class="nc">&nbsp;            } catch (FileNotFoundException ex) {</b>
<b class="nc">&nbsp;                throw new RuntimeException(ex);</b>
&nbsp;            }
&nbsp;        });
&nbsp;
&nbsp;        //Button end turn
<b class="nc">&nbsp;        Button endTurnButton = new Button(&quot;end turn&quot;);</b>
<b class="nc">&nbsp;        endTurnButton.setTextFill(javafx.scene.paint.Color.WHITE);</b>
<b class="nc">&nbsp;        endTurnButton.setLayoutX(centerX - 37.5);</b>
<b class="nc">&nbsp;        endTurnButton.setLayoutY(5);</b>
<b class="nc">&nbsp;        endTurnButton.setMaxHeight(10);</b>
<b class="nc">&nbsp;        endTurnButton.setMaxWidth(75);</b>
<b class="nc">&nbsp;        endTurnButton.setBackground(Background.fill(javafx.scene.paint.Color.BLACK));</b>
<b class="nc">&nbsp;        endTurnButton.setOnMouseClicked(e -&gt; clientSocket.sendMessage(new EndTurnMessage(clientSocket.getUsername())));</b>
&nbsp;
&nbsp;        //Chat Button
<b class="nc">&nbsp;        Button chatButton = new Button(&quot;Chat&quot;);</b>
<b class="nc">&nbsp;        chatButton.setLayoutX(10);</b>
<b class="nc">&nbsp;        chatButton.setLayoutY(295);</b>
<b class="nc">&nbsp;        chatButton.setMaxHeight(10);</b>
<b class="nc">&nbsp;        chatButton.setMaxWidth(75);</b>
<b class="nc">&nbsp;        chatButton.setOnMouseClicked(e -&gt; controller.toggleChat());</b>
&nbsp;
&nbsp;        // Chat group (can be toggled)
<b class="nc">&nbsp;        chatText = new TextArea();</b>
<b class="nc">&nbsp;        Group chatRoot = new Group();</b>
<b class="nc">&nbsp;        Rectangle chatBox = new Rectangle(0, 0, 500, 500);</b>
<b class="nc">&nbsp;        chatBox.setFill(Color.BLACK.getPaint());</b>
<b class="nc">&nbsp;        chatText.getStyleClass().add(&quot;chat-text&quot;);</b>
<b class="nc">&nbsp;        chatText.setEditable(false);</b>
&nbsp;
<b class="nc">&nbsp;        TextField messageField = new TextField();</b>
<b class="nc">&nbsp;        messageField.setPromptText(&quot;Type your message here&quot;);</b>
&nbsp;
<b class="nc">&nbsp;        Button sendButton = new Button(&quot;Send&quot;);</b>
&nbsp;
<b class="nc">&nbsp;        sendButton.setOnAction(actionEvent -&gt; {</b>
<b class="nc">&nbsp;            String msg = messageField.getText();</b>
<b class="nc">&nbsp;            if (!msg.isEmpty()) {</b>
<b class="nc">&nbsp;                clientSocket.sendMessage(new ChatMessage(clientSocket.getUsername(), messageField.getText()));</b>
&nbsp;            }
<b class="nc">&nbsp;            messageField.clear();</b>
&nbsp;        });
&nbsp;
<b class="nc">&nbsp;        chatBox.setLayoutX(centerX - chatBox.getWidth() / 2);</b>
<b class="nc">&nbsp;        chatBox.setLayoutY(centerY - chatBox.getHeight() / 2 - 150);</b>
<b class="nc">&nbsp;        chatText.setPrefSize(400, 350);</b>
<b class="nc">&nbsp;        chatText.setLayoutX(centerX - 200);</b>
<b class="nc">&nbsp;        chatText.setLayoutY(centerY-300);</b>
<b class="nc">&nbsp;        messageField.setLayoutX(centerX - 100);</b>
<b class="nc">&nbsp;        messageField.setLayoutY(350);</b>
<b class="nc">&nbsp;        sendButton.setLayoutX(centerX + 50);</b>
<b class="nc">&nbsp;        sendButton.setLayoutY(350);</b>
&nbsp;
<b class="nc">&nbsp;        chatRoot.getChildren().add(chatBox);</b>
<b class="nc">&nbsp;        chatRoot.getChildren().add(chatText);</b>
<b class="nc">&nbsp;        chatRoot.getChildren().add(messageField);</b>
<b class="nc">&nbsp;        chatRoot.getChildren().add(sendButton);</b>
&nbsp;
<b class="nc">&nbsp;        chatRoot.setVisible(false);</b>
<b class="nc">&nbsp;        setChatGroupReference(chatRoot);</b>
&nbsp;
&nbsp;        //resources &amp; points box
<b class="nc">&nbsp;        double rectanglePointsBoxWidth = 422.5;</b>
<b class="nc">&nbsp;        Rectangle PointsBox = new Rectangle(0 + rectangleWidthCommonObjectives + rectangleWidthSecretObjective + 20, stageHeight - rectangleHeightSecretObjective, rectanglePointsBoxWidth, rectangleHeightSecretObjective);</b>
&nbsp;
<b class="nc">&nbsp;        PointsBox.setFill(Color.BLACK.getPaint());</b>
&nbsp;
&nbsp;        //resources
&nbsp;
<b class="nc">&nbsp;        Rectangle mushrooms = new Rectangle(0 + rectangleWidthCommonObjectives + rectangleWidthSecretObjective + 20 + 2.5, stageHeight - rectangleHeightSecretObjective + 3, resourceWidth, resourceHeight);</b>
<b class="nc">&nbsp;        Rectangle mushrooms_points = new Rectangle(0 + rectangleWidthCommonObjectives + rectangleWidthSecretObjective + 20 + 2.5, stageHeight - rectangleHeightSecretObjective + resourceHeight + 3, resourceWidth, resourceHeight);</b>
<b class="nc">&nbsp;        Text mush_label = new Text(&quot;0&quot;);</b>
<b class="nc">&nbsp;        mush_label.setFill(javafx.scene.paint.Color.WHITE);</b>
<b class="nc">&nbsp;        mush_label.setFont(new Font(&quot;Nimbus Roman&quot;, 20));</b>
<b class="nc">&nbsp;        mush_label.setLayoutX(15 + rectangleWidthCommonObjectives + rectangleWidthSecretObjective + 20 + 2.5 + 5);</b>
<b class="nc">&nbsp;        mush_label.setLayoutY(stageHeight - rectangleHeightSecretObjective + resourceHeight + 3 + 20);</b>
<b class="nc">&nbsp;        controller.addRectangleToPointsDisplay(mushrooms_points, mush_label);</b>
&nbsp;
&nbsp;        try {
<b class="nc">&nbsp;            controller.setImageToRectangle(&quot;/board_icons/mushroom_icon.png&quot;, mushrooms);</b>
<b class="nc">&nbsp;        } catch (FileNotFoundException e) {</b>
<b class="nc">&nbsp;            throw new RuntimeException(e);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        Rectangle animals = new Rectangle(0 + rectangleWidthCommonObjectives + rectangleWidthSecretObjective + 20 + 5 + resourceWidth, stageHeight - rectangleHeightSecretObjective + 3, resourceWidth, resourceHeight);</b>
<b class="nc">&nbsp;        Rectangle animals_points = new Rectangle(0 + rectangleWidthCommonObjectives + rectangleWidthSecretObjective + 20 + 5 + resourceWidth, stageHeight - rectangleHeightSecretObjective + resourceHeight + 3, resourceWidth, resourceHeight);</b>
<b class="nc">&nbsp;        Text animals_label = new Text(&quot;0&quot;);</b>
<b class="nc">&nbsp;        animals_label.setFont(new Font(&quot;Nimbus Roman&quot;, 20));</b>
<b class="nc">&nbsp;        animals_label.setFill(javafx.scene.paint.Color.WHITE);</b>
<b class="nc">&nbsp;        animals_label.setLayoutX(15 + rectangleWidthCommonObjectives + rectangleWidthSecretObjective + 20 + 5 + resourceWidth + 5);</b>
<b class="nc">&nbsp;        animals_label.setLayoutY(stageHeight - rectangleHeightSecretObjective + resourceHeight + 3 + 20);</b>
<b class="nc">&nbsp;        controller.addRectangleToPointsDisplay(animals_points, animals_label);</b>
&nbsp;
&nbsp;        try {
<b class="nc">&nbsp;            controller.setImageToRectangle(&quot;/board_icons/animal_icon.png&quot;, animals);</b>
<b class="nc">&nbsp;        } catch (FileNotFoundException e) {</b>
<b class="nc">&nbsp;            throw new RuntimeException(e);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        Rectangle insect = new Rectangle(0 + rectangleWidthCommonObjectives + rectangleWidthSecretObjective + 20 + 7.5 + resourceWidth * 2, stageHeight - rectangleHeightSecretObjective + 3, resourceWidth, resourceHeight);</b>
<b class="nc">&nbsp;        Rectangle insect_points = new Rectangle(0 + rectangleWidthCommonObjectives + rectangleWidthSecretObjective + 20 + 7.5 + resourceWidth * 2, stageHeight - rectangleHeightSecretObjective + resourceHeight + 3, resourceWidth, resourceHeight);</b>
<b class="nc">&nbsp;        Text insect_label = new Text(&quot;0&quot;);</b>
<b class="nc">&nbsp;        insect_label.setFont(new Font(&quot;Nimbus Roman&quot;, 20));</b>
<b class="nc">&nbsp;        insect_label.setFill(javafx.scene.paint.Color.WHITE);</b>
<b class="nc">&nbsp;        insect_label.setLayoutX(15 + rectangleWidthCommonObjectives + rectangleWidthSecretObjective + 20 + 7.5 + resourceWidth * 2 + 5);</b>
<b class="nc">&nbsp;        insect_label.setLayoutY(stageHeight - rectangleHeightSecretObjective + resourceHeight + 3 + 20);</b>
<b class="nc">&nbsp;        controller.addRectangleToPointsDisplay(insect_points, insect_label);</b>
&nbsp;
&nbsp;
&nbsp;        try {
<b class="nc">&nbsp;            controller.setImageToRectangle(&quot;/board_icons/insect_icon.png&quot;, insect);</b>
<b class="nc">&nbsp;        } catch (FileNotFoundException e) {</b>
<b class="nc">&nbsp;            throw new RuntimeException(e);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        Rectangle leaves = new Rectangle(0 + rectangleWidthCommonObjectives + rectangleWidthSecretObjective + 20 + 10 + resourceWidth * 3, stageHeight - rectangleHeightSecretObjective + 3, resourceWidth, resourceHeight);</b>
<b class="nc">&nbsp;        Rectangle leaves_points = new Rectangle(0 + rectangleWidthCommonObjectives + rectangleWidthSecretObjective + 20 + 10 + resourceWidth * 3, stageHeight - rectangleHeightSecretObjective + resourceHeight + 3, resourceWidth, resourceHeight);</b>
<b class="nc">&nbsp;        Text leaves_label = new Text(&quot;0&quot;);</b>
<b class="nc">&nbsp;        leaves_label.setFont(new Font(&quot;Nimbus Roman&quot;, 20));</b>
<b class="nc">&nbsp;        leaves_label.setFill(javafx.scene.paint.Color.WHITE);</b>
<b class="nc">&nbsp;        leaves_label.setLayoutX(15 + rectangleWidthCommonObjectives + rectangleWidthSecretObjective + 20 + 10 + resourceWidth * 3 + 5);</b>
<b class="nc">&nbsp;        leaves_label.setLayoutY(stageHeight - rectangleHeightSecretObjective + resourceHeight + 3 + 20);</b>
<b class="nc">&nbsp;        controller.addRectangleToPointsDisplay(leaves_points, leaves_label);</b>
&nbsp;
&nbsp;        try {
<b class="nc">&nbsp;            controller.setImageToRectangle(&quot;/board_icons/leaf_icon.png&quot;, leaves);</b>
<b class="nc">&nbsp;        } catch (FileNotFoundException e) {</b>
<b class="nc">&nbsp;            throw new RuntimeException(e);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        Rectangle quills = new Rectangle(0 + rectangleWidthCommonObjectives + rectangleWidthSecretObjective + 20 + 12.5 + resourceWidth * 4, stageHeight - rectangleHeightSecretObjective + 3, resourceWidth, resourceHeight);</b>
<b class="nc">&nbsp;        Rectangle quills_points = new Rectangle(0 + rectangleWidthCommonObjectives + rectangleWidthSecretObjective + 20 + 12.5 + resourceWidth * 4, stageHeight - rectangleHeightSecretObjective + resourceHeight + 3, resourceWidth, resourceHeight);</b>
<b class="nc">&nbsp;        Text quills_label = new Text(&quot;0&quot;);</b>
<b class="nc">&nbsp;        quills_label.setFont(new Font(&quot;Nimbus Roman&quot;, 20));</b>
<b class="nc">&nbsp;        quills_label.setFill(javafx.scene.paint.Color.WHITE);</b>
<b class="nc">&nbsp;        quills_label.setLayoutX(15 + rectangleWidthCommonObjectives + rectangleWidthSecretObjective + 20 + 12.5 + resourceWidth * 4 + 5);</b>
<b class="nc">&nbsp;        quills_label.setLayoutY(stageHeight - rectangleHeightSecretObjective + resourceHeight + 3 + 20);</b>
<b class="nc">&nbsp;        controller.addRectangleToPointsDisplay(quills_points, quills_label);</b>
&nbsp;
&nbsp;        try {
<b class="nc">&nbsp;            controller.setImageToRectangle(&quot;/board_icons/quill_icon.png&quot;, quills);</b>
<b class="nc">&nbsp;        } catch (FileNotFoundException e) {</b>
<b class="nc">&nbsp;            throw new RuntimeException(e);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        Rectangle inkwells = new Rectangle(0 + rectangleWidthCommonObjectives + rectangleWidthSecretObjective + 20 + 15 + resourceWidth * 5, stageHeight - rectangleHeightSecretObjective + 3, resourceWidth, resourceHeight);</b>
<b class="nc">&nbsp;        Rectangle inkwells_points = new Rectangle(0 + rectangleWidthCommonObjectives + rectangleWidthSecretObjective + 20 + 15 + resourceWidth * 5, stageHeight - rectangleHeightSecretObjective + resourceHeight + 3, resourceWidth, resourceHeight);</b>
<b class="nc">&nbsp;        Text inkwells_label = new Text(&quot;0&quot;);</b>
<b class="nc">&nbsp;        inkwells_label.setFont(new Font(&quot;Nimbus Roman&quot;, 20));</b>
<b class="nc">&nbsp;        inkwells_label.setFill(javafx.scene.paint.Color.WHITE);</b>
<b class="nc">&nbsp;        inkwells_label.setLayoutX(15 + rectangleWidthCommonObjectives + rectangleWidthSecretObjective + 20 + 15 + resourceWidth * 5 + 5);</b>
<b class="nc">&nbsp;        inkwells_label.setLayoutY(stageHeight - rectangleHeightSecretObjective + resourceHeight + 3 + 20);</b>
<b class="nc">&nbsp;        controller.addRectangleToPointsDisplay(inkwells_points, inkwells_label);</b>
&nbsp;
&nbsp;        try {
<b class="nc">&nbsp;            controller.setImageToRectangle(&quot;/board_icons/inkwell_icon.png&quot;, inkwells);</b>
<b class="nc">&nbsp;        } catch (FileNotFoundException e) {</b>
<b class="nc">&nbsp;            throw new RuntimeException(e);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        Rectangle manuscript = new Rectangle(0 + rectangleWidthCommonObjectives + rectangleWidthSecretObjective + 20 + 17.5 + resourceWidth * 6, stageHeight - rectangleHeightSecretObjective + 3, resourceWidth, resourceHeight);</b>
<b class="nc">&nbsp;        Rectangle manuscript_points = new Rectangle(0 + rectangleWidthCommonObjectives + rectangleWidthSecretObjective + 20 + 17.5 + resourceWidth * 6, stageHeight - rectangleHeightSecretObjective + resourceHeight + 3, resourceWidth, resourceHeight);</b>
<b class="nc">&nbsp;        Text manuscript_label = new Text(&quot;0&quot;);</b>
<b class="nc">&nbsp;        manuscript_label.setFont(new Font(&quot;Nimbus Roman&quot;, 20));</b>
<b class="nc">&nbsp;        manuscript_label.setFill(javafx.scene.paint.Color.WHITE);</b>
<b class="nc">&nbsp;        manuscript_label.setLayoutX(15 + rectangleWidthCommonObjectives + rectangleWidthSecretObjective + 20 + 17.5 + resourceWidth * 6 + 5);</b>
<b class="nc">&nbsp;        manuscript_label.setLayoutY(stageHeight - rectangleHeightSecretObjective + resourceHeight + 3 + 20);</b>
<b class="nc">&nbsp;        controller.addRectangleToPointsDisplay(manuscript_points, manuscript_label);</b>
&nbsp;
&nbsp;        try {
<b class="nc">&nbsp;            controller.setImageToRectangle(&quot;/board_icons/manuscript_icon.png&quot;, manuscript);</b>
<b class="nc">&nbsp;        } catch (FileNotFoundException e) {</b>
<b class="nc">&nbsp;            throw new RuntimeException(e);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        Rectangle points = new Rectangle(0 + rectangleWidthCommonObjectives + rectangleWidthSecretObjective + 20 + 20 + resourceWidth * 7, stageHeight - rectangleHeightSecretObjective + 3, resourceWidth, resourceHeight);</b>
<b class="nc">&nbsp;        Rectangle Points_points = new Rectangle(0 + rectangleWidthCommonObjectives + rectangleWidthSecretObjective + 20 + 20 + resourceWidth * 7, stageHeight - rectangleHeightSecretObjective + resourceHeight + 3, resourceWidth, resourceHeight);</b>
<b class="nc">&nbsp;        Text points_label = new Text(&quot;0&quot;);</b>
<b class="nc">&nbsp;        points_label.setFont(new Font(&quot;Nimbus Roman&quot;, 20));</b>
<b class="nc">&nbsp;        points_label.setFill(javafx.scene.paint.Color.WHITE);</b>
<b class="nc">&nbsp;        points_label.setLayoutX(15 + rectangleWidthCommonObjectives + rectangleWidthSecretObjective + 20 + 20 + resourceWidth * 7 + 5);</b>
<b class="nc">&nbsp;        points_label.setLayoutY(stageHeight - rectangleHeightSecretObjective + resourceHeight + 3 + 20);</b>
<b class="nc">&nbsp;        controller.addRectangleToPointsDisplay(Points_points, points_label);</b>
<b class="nc">&nbsp;        Text points_text = new Text(&quot;Points&quot;);</b>
<b class="nc">&nbsp;        points_text.setFont(new Font(&quot;Nimbus Roman&quot;, 20));</b>
<b class="nc">&nbsp;        points_text.setX(rectangleWidthCommonObjectives + rectangleWidthSecretObjective + 18 + 20 + resourceWidth * 7 + 5);</b>
<b class="nc">&nbsp;        points_text.setY(stageHeight - rectangleHeightSecretObjective + resourceHeight - 12);</b>
<b class="nc">&nbsp;        points_text.setFill(javafx.scene.paint.Color.WHITE);</b>
&nbsp;        //points.setFill(Color.RED.getPaint());
&nbsp;
&nbsp;        // Add the static rectangle to the staticRoot group
<b class="nc">&nbsp;        staticRoot.getChildren().add(ResourceCardsBox);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(GoldCardsBox);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(CommonObjectivesBox);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(SecretObjectiveBox);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(HandBox);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(PointsBox);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(InitialCardDisplayBox);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(secretObjectivesDisplayBox);</b>
&nbsp;
&nbsp;
<b class="nc">&nbsp;        staticRoot.getChildren().add(ResourceCard1);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(ResourceCard2);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(ResourceCard3);</b>
&nbsp;
<b class="nc">&nbsp;        staticRoot.getChildren().add(GoldCard1);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(GoldCard2);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(GoldCard3);</b>
&nbsp;
<b class="nc">&nbsp;        staticRoot.getChildren().add(HandCard1);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(HandCard2);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(HandCard3);</b>
&nbsp;
<b class="nc">&nbsp;        staticRoot.getChildren().add(CommonObjective1);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(CommonObjective2);</b>
&nbsp;
<b class="nc">&nbsp;        staticRoot.getChildren().add(SecretObjective);</b>
&nbsp;
<b class="nc">&nbsp;        staticRoot.getChildren().add(InitialCardDisplay);</b>
&nbsp;
<b class="nc">&nbsp;        staticRoot.getChildren().add(secretObjective1Display);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(secretObjective2Display);</b>
&nbsp;
<b class="nc">&nbsp;        staticRoot.getChildren().add(flipButton);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(endTurnButton);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(chatButton);</b>
&nbsp;
<b class="nc">&nbsp;        staticRoot.getChildren().add(mushrooms);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(leaves);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(insect);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(manuscript);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(inkwells);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(animals);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(quills);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(points);</b>
&nbsp;
&nbsp;
<b class="nc">&nbsp;        staticRoot.getChildren().add(mushrooms_points);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(leaves_points);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(insect_points);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(manuscript_points);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(inkwells_points);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(animals_points);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(quills_points);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(Points_points);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(mush_label);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(leaves_label);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(insect_label);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(manuscript_label);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(inkwells_label);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(animals_label);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(quills_label);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(points_label);</b>
<b class="nc">&nbsp;        staticRoot.getChildren().add(points_text);</b>
&nbsp;
<b class="nc">&nbsp;        staticRoot.getChildren().add(chatRoot);</b>
&nbsp;
&nbsp;        //THE GRID
&nbsp;
<b class="nc">&nbsp;        int gridSize = 20;</b>
<b class="nc">&nbsp;        double rectangleWidth = cardWidth - 30;//change these values to change di distance between rectangles</b>
<b class="nc">&nbsp;        double rectangleHeight = cardHeight - 33;</b>
<b class="nc">&nbsp;        double opacity = 0;</b>
&nbsp;
<b class="nc">&nbsp;        for (int i = 0; i &lt; gridSize; i++) {</b>
<b class="nc">&nbsp;            for (int j = 0; j &lt; gridSize; j++) {</b>
&nbsp;                // Subtract half the grid size from the x and y coordinates to center the grid
<b class="nc">&nbsp;                double x = (i - gridSize / 2.0) * rectangleWidth;</b>
<b class="nc">&nbsp;                double y = (j - gridSize / 2.0) * rectangleHeight;</b>
&nbsp;
<b class="nc">&nbsp;                Rectangle gridRectangle = new Rectangle(x, y, cardWidth, cardHeight);</b>
&nbsp;
<b class="nc">&nbsp;                gridRectangle.setFill(Color.GREY.getPaint());</b>
<b class="nc">&nbsp;                gridRectangle.setOpacity(opacity);</b>
&nbsp;                // Add an outline to the rectangle
<b class="nc">&nbsp;                gridRectangle.setStroke(javafx.scene.paint.Color.BLACK);</b>
<b class="nc">&nbsp;                gridRectangle.setStrokeWidth(0.5);</b>
&nbsp;
<b class="nc">&nbsp;                int finalJ = gridSize / 2 - j; // Invert the y-coordinate</b>
<b class="nc">&nbsp;                int finalI = i - gridSize / 2;</b>
&nbsp;
<b class="nc">&nbsp;                if ((Math.abs(finalI) == Math.abs(finalJ)) || (finalI == finalJ) || (finalI % 2 == 0 &amp;&amp; finalJ % 2 == 0) || ((finalI + finalJ) % 2 == 0)) {</b>
<b class="nc">&nbsp;                    ArrayList&lt;Integer&gt; coordinates = new ArrayList&lt;&gt;();</b>
<b class="nc">&nbsp;                    coordinates.add(finalI);</b>
<b class="nc">&nbsp;                    coordinates.add(finalJ);</b>
<b class="nc">&nbsp;                    gridRectangle.setUserData(coordinates);</b>
<b class="nc">&nbsp;                    gridRectangle.setOnMouseClicked(e -&gt; System.out.println(&quot;Rectangle at (&quot; + finalI + &quot;, &quot; + finalJ + &quot;) was clicked!&quot;));</b>
<b class="nc">&nbsp;                    controller.addRectangleToGridMap(gridRectangle);</b>
<b class="nc">&nbsp;                    movableRoot.getChildren().addAll(gridRectangle/*, label*/);</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        //THE CAMERA
&nbsp;
&nbsp;        // Create a translation transform for the movable group
<b class="nc">&nbsp;        Translate cameraTranslate = new Translate();</b>
<b class="nc">&nbsp;        movableRoot.getTransforms().add(cameraTranslate);</b>
&nbsp;
<b class="nc">&nbsp;            Scene scene = new Scene(root, 1400, 900);</b>
&nbsp;            // Add key listeners to the scene to move the camera
<b class="nc">&nbsp;            scene.setOnKeyPressed(e -&gt; {</b>
<b class="nc">&nbsp;                switch (e.getCode()) {</b>
&nbsp;                    case W:
<b class="nc">&nbsp;                        cameraTranslate.setY(cameraTranslate.getY() + 20);</b>
&nbsp;                        break;
&nbsp;                    case S:
<b class="nc">&nbsp;                        cameraTranslate.setY(cameraTranslate.getY() - 20);</b>
&nbsp;                        break;
&nbsp;                    case A:
<b class="nc">&nbsp;                        cameraTranslate.setX(cameraTranslate.getX() + 20);</b>
&nbsp;                        break;
&nbsp;                    case D:
<b class="nc">&nbsp;                        cameraTranslate.setX(cameraTranslate.getX() - 20);</b>
&nbsp;                        break;
&nbsp;                }
&nbsp;            });
<b class="nc">&nbsp;            Platform.runLater(()-&gt; {</b>
<b class="nc">&nbsp;                scene.getStylesheets().add(&quot;/codexTheme.css&quot;);</b>
<b class="nc">&nbsp;                stageReference.setTitle(&quot;Codex! - your board&quot;);</b>
<b class="nc">&nbsp;                stageReference.setScene(scene);</b>
<b class="nc">&nbsp;                stageReference.setHeight(stageHeight + 37);</b>
<b class="nc">&nbsp;                stageReference.setWidth(stageWidth);</b>
<b class="nc">&nbsp;                stageReference.show();</b>
&nbsp;            });
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * method to instantiate the winners scene
&nbsp;     */
&nbsp;    @Override
&nbsp;    public void drawWinnerScene() {
<b class="nc">&nbsp;        StackPane root = new StackPane();</b>
&nbsp;
<b class="nc">&nbsp;        InputStream is = getClass().getResourceAsStream(&quot;/graphics/CODEX_wallpaper_pattern.png&quot;);</b>
<b class="nc">&nbsp;        ImageView imageView = createImageView(root, is);</b>
&nbsp;
<b class="nc">&nbsp;        Button backButton = new Button(&quot;Back to Menu&quot;);</b>
<b class="nc">&nbsp;        backButton.setTranslateY(50);</b>
&nbsp;
<b class="nc">&nbsp;        backButton.setOnAction(actionEvent -&gt; {</b>
<b class="nc">&nbsp;            clientSocket.disconnect();</b>
<b class="nc">&nbsp;            drawHelloScene();</b>
&nbsp;        });
&nbsp;
<b class="nc">&nbsp;        stageReference.setTitle(&quot;Codex! - Game Ended&quot;);</b>
<b class="nc">&nbsp;        root.getChildren().add(imageView);</b>
<b class="nc">&nbsp;        root.getChildren().add(winnerLabel);</b>
<b class="nc">&nbsp;        root.getChildren().add(backButton);</b>
&nbsp;
<b class="nc">&nbsp;        Scene scene = new Scene(root, stageWidth, stageHeight);</b>
<b class="nc">&nbsp;        scene.getStylesheets().add(&quot;/codexTheme.css&quot;);</b>
<b class="nc">&nbsp;        stageReference.setScene(scene);</b>
<b class="nc">&nbsp;        stageReference.show();</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * utility method to display an alert
&nbsp;     * @param alert the alert string to be displayed
&nbsp;     */
&nbsp;    @Override
&nbsp;    public void displayAlert(String alert) {
&nbsp;        //show dialog box containing string alert
<b class="nc">&nbsp;         displayTimedAlertText(alert, 7);</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * method to set the static group reference for the board scene
&nbsp;     * @param staticGroupReference the static group of the board scene
&nbsp;     */
&nbsp;    private void setStaticGroupReference(Group staticGroupReference) {
<b class="nc">&nbsp;        this.staticGroupReference = staticGroupReference;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * method to set the movable root reference for the board scene
&nbsp;     * @param movableGroupReference the movable group of the board scene
&nbsp;     */
&nbsp;    private void setMovableRootReference(Group movableGroupReference) {
<b class="nc">&nbsp;        this.movableRootReference = movableGroupReference;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * method to set the chat group reference for the board scene
&nbsp;     * @param chatGroup the chat group of the board scene
&nbsp;     */
&nbsp;    private void setChatGroupReference(Group chatGroup) {
<b class="nc">&nbsp;        this.chatGroupReference = chatGroup;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * method to set the alert text for the board scene
&nbsp;     * @param alert the alert text to set in the board scene
&nbsp;     */
&nbsp;    public void setAlert(Text alert) {
<b class="nc">&nbsp;        this.alert = alert;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * method to set the text for the turn display in the board scene
&nbsp;     * @param text the text to set in the turn display
&nbsp;     */
&nbsp;    public void setYouTurnDisplay(Text text) {
<b class="nc">&nbsp;        this.turnText = text;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * method to display a timed alert text
&nbsp;     * @param text the text to display
&nbsp;     * @param timer the time the text will be displayed
&nbsp;     */
&nbsp;    private void displayTimedAlertText(String text, Integer timer) {
<b class="nc">&nbsp;        this.alert.setText(text);</b>
<b class="nc">&nbsp;        double stageWidth = stageReference.getWidth();</b>
<b class="nc">&nbsp;        double textWidth = alert.getLayoutBounds().getWidth();</b>
&nbsp;
<b class="nc">&nbsp;        double centerX = (stageWidth - textWidth) / 2;</b>
&nbsp;
<b class="nc">&nbsp;        PauseTransition delay = new PauseTransition(Duration.seconds(timer));</b>
<b class="nc">&nbsp;        delay.setOnFinished(event -&gt; alert.setText(&quot;&quot;));</b>
<b class="nc">&nbsp;        this.alert.setX(centerX);</b>
<b class="nc">&nbsp;        this.alert.setY(50);</b>
<b class="nc">&nbsp;        delay.play();</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * method to get the background rectangle of the secret objective
&nbsp;     * @return the rectangle of the secret objective
&nbsp;     */
&nbsp;    public Rectangle getSecretObjectiveBackground() {
<b class="nc">&nbsp;        return secretObjectiveBackground;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * method to get the background rectangle of the initial card
&nbsp;     * @return the rectangle of the initial card
&nbsp;     */
&nbsp;    public Rectangle getInitCardBackground() {
<b class="nc">&nbsp;        return initCardBackground;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * method that removes a rectangle node from the board and re adds it to bring it to the front
&nbsp;     * @param rectangle the rectangle to bring to the front
&nbsp;     */
&nbsp;    public void bringRectangleToFront(Rectangle rectangle) {
<b class="nc">&nbsp;        Group parent = (Group) rectangle.getParent();</b>
<b class="nc">&nbsp;        parent.getChildren().remove(rectangle);</b>
<b class="nc">&nbsp;        parent.getChildren().add(rectangle);</b>
&nbsp;    }
&nbsp;
&nbsp;    //GETTER
&nbsp;
&nbsp;    public ClientSocket getClientSocket() {
<b class="nc">&nbsp;        return clientSocket;</b>
&nbsp;    }
&nbsp;
&nbsp;    public Group getChatGroup() {
<b class="nc">&nbsp;        return chatGroupReference;</b>
&nbsp;    }
&nbsp;
&nbsp;    public TextArea getChatText() {
<b class="nc">&nbsp;        return chatText;</b>
&nbsp;    }
&nbsp;
&nbsp;    public Text getTurnText() {
<b class="nc">&nbsp;        return turnText;</b>
&nbsp;    }
&nbsp;
&nbsp;    public void setWinnerLabel(String winner){
<b class="nc">&nbsp;        winnerLabel.setText(winner);</b>
&nbsp;    }
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2024-05-27 12:25</div>
</div>
</body>
</html>
